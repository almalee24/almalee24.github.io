---
layout: post
title:      "Magic Job Portabl - Rails Project"
date:       2020-11-09 10:53:30 +0000
permalink:  magic_job_portabl_-_rails_project
---


This was a very fun and challenging project. Right from the beginning a my Devise Omniauth with GitHub wasn't working. My code was perfec and my cohort lead also couldn't find an issue. I went through all my code again, re-entered my github consumer_key and consumer_secret and nothing. My cohort lead was able to figure out that the problem was in the gemfile. Initially I had just done gem 'omniauth-github' but I actually needed to add a version, '~>1.4.0'. That solved the problem and I was so realieved I didn't need to authenticate without devise. The second problem was that I was create my initial positions by using the GitHub Jobs API. This was very smooth until I added a belongs_to association to the Position modle. Doing this caused that rails db:seed wouldn't repopulate my table. The reason for this was that the positions didn't have a user_id when being created. I solved this problem by adding, belongs_to :user, optional: true. Another big problem that I was having a heart time doing was creating a favorites table without having to create positions from scratch. I was able to do this by created several associations in the Position and User model. First I created a favorites table with position_id and user_id. Then I added this association to Position model, has_many :favorite_positions and has_many :favorited_by, through: :favorite_positions, source: :user. Then added these associations to User model, has_many :favorite_positions and has_many :favorites, through: :favorite_positions, source: :position. With this I was able to let users favorite and unfavorite certain positions. The other challenge was created a page only for the favorited positions by the user. I did this by adding a Favorite Controller with index method that created a @favorites variable by doing current_user.favorites.uniq then made a favorites folder with the index page. In the index page I was able to call all the favorited positions and the user would be able to click on them which would link them to positions show page. 
